{"ast":null,"code":"import _defineProperty from \"/Users/eandersson018/Documents/Workspace/eve/veyor/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { callApiWithDispatch } from '../../../core/lib/apiHelpers';\nimport { FLICKR_API_KEY } from '../../../core/lib/constants';\nexport const RECEIVE_SEARCH_RESULTS = 'RECEIVE_SEARCH_RESULTS';\nexport const SET_ERROR = 'SET_ERROR';\nexport const SET_LOADING = 'SET_LOADING';\nexport const setLoading = state => {\n  return {\n    type: SET_LOADING,\n    payload: state\n  };\n};\nexport const fetchPublicFeed = (url, params = {}) => {\n  return callApiWithDispatch(url, {\n    isJsonp: true,\n    params: _objectSpread({}, params, {\n      format: 'json',\n      nojsoncallback: 1\n    })\n  }, (dispatch, state, promise) => {\n    dispatch(setLoading(true));\n    return promise.then(results => {\n      dispatch({\n        type: RECEIVE_SEARCH_RESULTS,\n        payload: _objectSpread({}, results, {\n          searchTerm: null\n        })\n      });\n    }).catch(e => {\n      console.error('Error loading results:', e);\n      dispatch({\n        type: SET_ERROR,\n        payload: e\n      });\n    }).finally(() => dispatch(setLoading(false)));\n  });\n};\nexport const fetchSearchResults = (url, params) => {\n  return callApiWithDispatch(url, {\n    isJsonp: true,\n    method: 'flicker.photos.search',\n    params: {\n      format: 'json',\n      api_key: FLICKR_API_KEY,\n      search: params\n    }\n  }, (dispatch, state, promise) => {\n    dispatch(setLoading(true));\n    return promise.then(results => {\n      dispatch({\n        type: RECEIVE_SEARCH_RESULTS,\n        payload: _objectSpread({}, results, {\n          searchTerm: params\n        })\n      });\n    }).catch(e => {\n      console.error('Error loading results:', e);\n      dispatch({\n        type: SET_ERROR,\n        payload: e\n      });\n    }).finally(() => dispatch(setLoading(false)));\n  });\n};","map":{"version":3,"sources":["/Users/eandersson018/Documents/Workspace/eve/veyor/client/src/modules/imageSearch/actions/imageSearchActions.js"],"names":["callApiWithDispatch","FLICKR_API_KEY","RECEIVE_SEARCH_RESULTS","SET_ERROR","SET_LOADING","setLoading","state","type","payload","fetchPublicFeed","url","params","isJsonp","format","nojsoncallback","dispatch","promise","then","results","searchTerm","catch","e","console","error","finally","fetchSearchResults","method","api_key","search"],"mappings":";;;;;;AAAA,SAASA,mBAAT,QAAoC,8BAApC;AACA,SAASC,cAAT,QAA+B,6BAA/B;AAEA,OAAO,MAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,MAAMC,SAAS,GAAG,WAAlB;AACP,OAAO,MAAMC,WAAW,GAAG,aAApB;AAGP,OAAO,MAAMC,UAAU,GAAGC,KAAK,IAAI;AACjC,SAAO;AACLC,IAAAA,IAAI,EAAEH,WADD;AAELI,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,MAAMG,eAAe,GAAG,CAACC,GAAD,EAAMC,MAAM,GAAG,EAAf,KAAsB;AACnD,SAAOX,mBAAmB,CACxBU,GADwB,EAExB;AACEE,IAAAA,OAAO,EAAE,IADX;AAEED,IAAAA,MAAM,oBAAOA,MAAP;AAAeE,MAAAA,MAAM,EAAE,MAAvB;AAA+BC,MAAAA,cAAc,EAAE;AAA/C;AAFR,GAFwB,EAMxB,CAACC,QAAD,EAAWT,KAAX,EAAkBU,OAAlB,KAA8B;AAC5BD,IAAAA,QAAQ,CAACV,UAAU,CAAC,IAAD,CAAX,CAAR;AAEA,WAAOW,OAAO,CACbC,IADM,CACDC,OAAO,IAAI;AACfH,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEL,sBADC;AAEPM,QAAAA,OAAO,oBAAOU,OAAP;AAAgBC,UAAAA,UAAU,EAAE;AAA5B;AAFA,OAAD,CAAR;AAID,KANM,EAONC,KAPM,CAOAC,CAAC,IAAI;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAc,wBAAd,EAAwCF,CAAxC;AACAN,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEJ,SADC;AAEPK,QAAAA,OAAO,EAAEa;AAFF,OAAD,CAAR;AAID,KAbM,EAcNG,OAdM,CAcE,MAAMT,QAAQ,CAACV,UAAU,CAAC,KAAD,CAAX,CAdhB,CAAP;AAeD,GAxBuB,CAA1B;AA0BD,CA3BM;AA6BP,OAAO,MAAMoB,kBAAkB,GAAG,CAACf,GAAD,EAAMC,MAAN,KAAiB;AACjD,SAAOX,mBAAmB,CACxBU,GADwB,EAExB;AACEE,IAAAA,OAAO,EAAE,IADX;AAEEc,IAAAA,MAAM,EAAE,uBAFV;AAGEf,IAAAA,MAAM,EAAE;AAAEE,MAAAA,MAAM,EAAE,MAAV;AAAkBc,MAAAA,OAAO,EAAE1B,cAA3B;AAA2C2B,MAAAA,MAAM,EAAEjB;AAAnD;AAHV,GAFwB,EAOxB,CAACI,QAAD,EAAWT,KAAX,EAAkBU,OAAlB,KAA8B;AAC5BD,IAAAA,QAAQ,CAACV,UAAU,CAAC,IAAD,CAAX,CAAR;AAEA,WAAOW,OAAO,CACbC,IADM,CACDC,OAAO,IAAI;AACfH,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEL,sBADC;AAEPM,QAAAA,OAAO,oBAAOU,OAAP;AAAgBC,UAAAA,UAAU,EAAER;AAA5B;AAFA,OAAD,CAAR;AAID,KANM,EAONS,KAPM,CAOAC,CAAC,IAAI;AACVC,MAAAA,OAAO,CAACC,KAAR,CAAc,wBAAd,EAAwCF,CAAxC;AACAN,MAAAA,QAAQ,CAAC;AACPR,QAAAA,IAAI,EAAEJ,SADC;AAEPK,QAAAA,OAAO,EAAEa;AAFF,OAAD,CAAR;AAID,KAbM,EAcNG,OAdM,CAcE,MAAMT,QAAQ,CAACV,UAAU,CAAC,KAAD,CAAX,CAdhB,CAAP;AAeD,GAzBuB,CAA1B;AA2BD,CA5BM","sourcesContent":["import { callApiWithDispatch } from '../../../core/lib/apiHelpers'\nimport { FLICKR_API_KEY } from '../../../core/lib/constants'\n\nexport const RECEIVE_SEARCH_RESULTS = 'RECEIVE_SEARCH_RESULTS'\nexport const SET_ERROR = 'SET_ERROR'\nexport const SET_LOADING = 'SET_LOADING'\n\n\nexport const setLoading = state => {\n  return {\n    type: SET_LOADING,\n    payload: state\n  }\n}\n\nexport const fetchPublicFeed = (url, params = {}) => {\n  return callApiWithDispatch(\n    url,\n    {\n      isJsonp: true,\n      params: { ...params, format: 'json', nojsoncallback: 1 },\n    },\n    (dispatch, state, promise) => {\n      dispatch(setLoading(true))\n\n      return promise\n      .then(results => {\n        dispatch({\n          type: RECEIVE_SEARCH_RESULTS,\n          payload: { ...results, searchTerm: null }\n        })\n      })\n      .catch(e => {\n        console.error('Error loading results:', e)\n        dispatch({\n          type: SET_ERROR,\n          payload: e\n        })\n      })\n      .finally(() => dispatch(setLoading(false)))\n    }\n  )\n}\n\nexport const fetchSearchResults = (url, params) => {\n  return callApiWithDispatch(\n    url,\n    {\n      isJsonp: true,\n      method: 'flicker.photos.search',\n      params: { format: 'json', api_key: FLICKR_API_KEY, search: params },\n    },\n    (dispatch, state, promise) => {\n      dispatch(setLoading(true))\n\n      return promise\n      .then(results => {\n        dispatch({\n          type: RECEIVE_SEARCH_RESULTS,\n          payload: { ...results, searchTerm: params }\n        })\n      })\n      .catch(e => {\n        console.error('Error loading results:', e)\n        dispatch({\n          type: SET_ERROR,\n          payload: e\n        })\n      })\n      .finally(() => dispatch(setLoading(false)))\n    }\n  )\n}\n"]},"metadata":{},"sourceType":"module"}